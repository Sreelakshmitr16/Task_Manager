
{%extends 'base.html'%}

{%block main_block%}
{%load static%}
{% block style_block%}
    <style>
        #a {
            margin-left: 1160px
        }
        body{
            background-image: url('{%static "Images/todo12.webp"%}');
            background-repeat: no-repeat;
            background-size: 100% 950px;
        }
    </style>
{%endblock%}


    {%if messages%}
    {%for m in messages%}
    <div class="alert alert-secondary alert-dismissible fade show" role="alert">
        <strong> {{m}}!</strong> 
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {%endfor%}
    {%endif%}


    


        <h1 class="text-center" style="font-family:Verdana, Geneva, Tahoma, sans-serif; color:black;"> <u><i class="fa-solid fa-circle-check"></i> TO DO</h1></u>


        <h1 class="text-center"
            style="font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; color:black;">
            <u><i>Welcome {{request.user}}!</i></u></h1><br>

        <div class="container d-flex justify-content-center   gap-3">
            {%for item in status_count%}
            {%if item.status == 'completed'%}
            <div class="border border-secondary p-3 rounded alert alert-success">
                <h3 style="color:black; ">Total Tasks {{item.status}}:{{item.status_count}}</h3>
            </div>
            {%else%}
            <div class="border border-secondary p-3  rounded alert alert-danger">
                <h3 style="color:black; ">Total Tasks {{item.status}}:{{item.status_count}}</h3>
            </div>
            {%endif%}

            {%endfor%}
        </div>


        <div class="container">
            {%for t in data%}
            <div class="row mt-3">
                <div class="col-4"></div>
                <div class="col-4 border rounded-pill p-3 border border-primary shadow " style="background-color:floralwhite;width:500px;" >
                    <div class="d-flex justify-content-around " >
                        <div class="mt-3 ">{{t.title}}</div>
                        <div class="mt-3">{{t.status}}</div>
                        <a href="{%url 'task-detail' t.id%}" class="btn  alert alert-primary"> View<i class="fa-solid fa-eye"></i></a>
                        <a href="{%url 'task-edit' t.id%} " class="btn alert alert-secondary">Edit<i class="fa-solid fa-pen-to-square"></i></a>
                        <a href="{%url 'task-delete' t.id%}" class="btn alert alert-danger">Delete<i class="fa-solid fa-trash"></i></a>
                    </div>
                </div>
                <div class="col-4"></div>
            </div>
            {%endfor%}
        </div>
    </div>
{%endblock%}
